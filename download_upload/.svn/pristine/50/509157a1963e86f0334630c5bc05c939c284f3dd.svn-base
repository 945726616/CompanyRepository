function mdrag(a,f,k,m){function d(g){switch((g=g||window.event).type){case "blur":case "losecapture":case "mouseup":h.cursor=n;b.unbind(c,"mousemove",d);b.unbind(c,"mouseup",d);b.unbind(c,"blur",d);a.releaseCapture&&(b.unbind(a,"losecapture",d),a.releaseCapture());break;case "mousemove":var i=p+g.clientX-q,j=r+g.clientY-s,e=a.offsetParent,f=Math.max(e.scrollWidth,e.clientWidth),e=Math.max(e.scrollHeight,e.clientHeight,l&&e==c.body?l.clientHeight:0);i+a.offsetWidth>f&&(i=f-a.offsetWidth);j+a.offsetHeight>
e&&(j=e-a.offsetHeight);0>i&&(i=0);0>j&&(j=0);h.left=i+"px";h.top=j+"px";k&&k(m)}b.stop(g)}var h=a.style,n=h.cursor,b=window.mevt,p=a.offsetLeft,r=a.offsetTop,q=f.clientX,s=f.clientY,c=document,l="CSS1Compat"==c.compatMode?c.documentElement:null;h.cursor="move";b.bind(c,"mousemove",d);b.bind(c,"mouseup",d);b.bind(c,"blur",d);a.setCapture&&(a.setCapture(),b.bind(a,"losecapture",d));b.stop(f);b.mude(f)};
